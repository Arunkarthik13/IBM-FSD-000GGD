<html>
    <head>
        <title>Cart</title>
        <script type="text/javascript">
        const getdata = ()=>{
        const _url1 = 'http://localhost:7100/cart';
        fetch(_url1,{})
        .then(res=>res.json())
        .then(cart=>{
            createTable(cart);
        })
    }
    const createTable = (data)=>{
        let rows = '';
        data.cart.forEach(u => {
            total = u.price * u.quantity;
            rows += `<tr>
                        <td>${u.name}</td>
                        <td>${u.price}</td>
                        <td><button onclick="minus(${u.quantity})">-</button>
                        <span id="quantity">${u.quantity}</span>
                        <button onclick="plus(${u.quantity})">+</button></td>
                        <td>${total}</td>
                    </tr>`
        });
        const _table = `<table>
                            <tr>
                                <th>Product Name</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                            </tr>
                            ${rows}
                        </table>`;
        
        
        document.getElementById('cart_div').innerHTML = _table;
    }

const minus = (data) => {
    console.log(data)
    data=data-1;
    document.getElementById('quantity').value = data;
}

const plus = (data) =>{
    console.log(data)
    data=data+1;
    document.getElementById('quantity').value = data;
}
        </script>
    </head>
    <body onload="getdata()">
    <div align="center" id="cart-div"></div>
    <div id="table"></div>
    </body>
</html>